(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{302:function(t,e,r){"use strict";r.r(e);r(39),r(33),r(9),r(90),r(69),r(25),r(14),r(91),r(103),r(75);function n(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,v=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){v=!0,l=t},f:function(){try{c||null==r.return||r.return()}finally{if(v)throw l}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l={head:function(){return{titleTemplate:null,title:"Movie Stock"}},data:function(){return{name:"",password:"",users:[],favorites:[]}},mounted:function(){this.setUsers(),this.setFavorites()},methods:{register:function(){try{var t={name:this.name,password:this.password},e=localStorage.getItem("mvf_users");null===e?(localStorage.setItem("mvf_users",JSON.stringify([t])),location.reload()):(e=JSON.parse(e)).length>0&&(e.push(t),localStorage.setItem("mvf_users",JSON.stringify(e)),location.reload())}catch(t){alert("登録失敗")}},setUsers:function(){var t=localStorage.getItem("mvf_users");null===t?this.users=[]:(t=JSON.parse(t)).length>0&&(this.users=t)},setFavorites:function(){var t=localStorage.getItem("mvf_user");if(null===t)return!1;var e=localStorage.getItem("mvf_favorites");if(null===e)return!1;e=JSON.parse(e),t=JSON.parse(t);var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l.user===t.name)return void(this.favorites=l.favorites)}}catch(t){o.e(t)}finally{o.f()}}}},c=r(68),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("section",{staticClass:"head bg-primary py-5"},[r("b-container",[r("h1",{staticClass:"text-white mb-3"},[t._v("果てしない映画の旅へ")]),t._v(" "),r("h2",{staticClass:"text-white mb-5"},[t._v("感動と力をもたらすストーリー、革新的な映像、何百万本もの映画に出会ってください！")]),t._v(" "),r("form",{attrs:{action:"/search",method:"get"}},[r("b-input-group",{staticClass:"mt-3",attrs:{prepend:"映画検索"}},[r("b-form-input",{attrs:{name:"searchWord"}}),t._v(" "),r("b-input-group-append",[r("b-button",{attrs:{type:"submit",variant:"secondary"}},[t._v("検索する")])],1)],1)],1)])],1),t._v(" "),r("section",{staticClass:"favorite"},[r("b-container",[r("div",{staticClass:"d-flex align-items-center mt-4"},[r("b-icon-heart-fill",{staticClass:"h3 mr-2 text-danger"}),t._v(" "),r("h3",[t._v("あなたのお気に入り（"+t._s(t.favorites.length)+"）")])],1),t._v(" "),0===t.favorites.length?r("div",{staticClass:"alert alert-warning mt-4 mb-5"},[t._v("\n        サインインし、お気に入り映画が1つ以上ありましたらこちらに表示されます\n      ")]):t._e(),t._v(" "),t.favorites.length>0?r("div",{staticClass:"table-responsive py-4"},[r("b-row",{staticClass:"flex-nowrap"},t._l(t.favorites,(function(e,n){return r("b-col",{key:n,attrs:{cols:"3"}},[r("b-card",{staticClass:"mb-2",attrs:{title:e.title,"img-src":"http://image.tmdb.org/t/p/w342/"+e.img,"img-alt":e.title,"img-top":"",tag:"article"}},[r("b-card-text",[t._v(t._s(e.release))]),t._v(" "),r("b-button",{attrs:{to:"/movie/"+e.id,variant:"warning"}},[t._v("\n                詳しく見る\n              ")])],1)],1)})),1)],1):t._e()])],1),t._v(" "),r("b-container",[r("b-card",{attrs:{title:"管理用"}},[r("div",[t._v("ユーザーが存在しない場合は登録してください")]),t._v(" "),r("h2",{staticClass:"alert alert-info mt-5"},[t._v("ユーザー登録")]),t._v(" "),r("table",{staticClass:"registerUser"},[r("tbody",[r("tr",[r("th",[t._v("User Name")]),t._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),r("tr",[r("th",[t._v("Password")]),t._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])])])]),t._v(" "),r("div",[r("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.register()}}},[t._v("登録する")])],1),t._v(" "),r("h2",{staticClass:"alert alert-info mt-5"},[t._v("ユーザー一覧")]),t._v(" "),r("b-list-group",t._l(t.users,(function(e){return r("b-list-group-item",[r("NuxtLink",{attrs:{to:"/user/"+e.name}},[t._v("\n            "+t._s(e.name)+"\n          ")])],1)})),1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);